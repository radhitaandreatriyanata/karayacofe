<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cafe Karaya</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--primary:#8B4513;--secondary:#D2691E;--light:#F5E6D3;--cream:#FFF8DC;--success:#28a745;--warning:#ffc107;--danger:#dc3545}
body{font-family:'Segoe UI',sans-serif;background:linear-gradient(135deg,#2C1810 0%,#4A2C1A 100%);color:var(--light);min-height:100vh}
.container{max-width:480px;margin:0 auto;background:#1a1a1a;min-height:100vh}
.welcome-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;padding:20px;text-align:center}
.logo{font-size:48px;margin-bottom:10px}
.brand-name{font-size:32px;font-weight:bold;color:var(--secondary);margin-bottom:10px}
.tagline{color:var(--light);opacity:0.8;margin-bottom:50px}
.btn{padding:15px 40px;border:none;border-radius:25px;font-size:16px;cursor:pointer;transition:all 0.3s;font-weight:600;width:100%;max-width:300px}
.btn-primary{background:linear-gradient(135deg,var(--primary) 0%,var(--secondary) 100%);color:white;margin:10px 0}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(139,69,19,0.4)}
.btn-secondary{background:transparent;border:2px solid var(--secondary);color:var(--secondary);margin:10px 0}
.header{background:rgba(26,26,26,0.95);padding:15px 20px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:100;border-bottom:1px solid rgba(210,105,30,0.2)}
.header-title{font-size:20px;font-weight:bold;color:var(--secondary)}
.table-info{background:var(--primary);padding:5px 15px;border-radius:15px;font-size:14px}
.category-tabs{display:flex;overflow-x:auto;padding:15px 20px;gap:10px;background:rgba(42,42,42,0.5)}
.category-tabs::-webkit-scrollbar{display:none}
.tab{padding:10px 20px;background:rgba(139,69,19,0.3);border-radius:20px;white-space:nowrap;cursor:pointer;transition:all 0.3s;border:1px solid transparent}
.tab.active{background:var(--primary);border-color:var(--secondary)}
.menu-list{padding:20px;padding-bottom:100px}
.menu-card{background:rgba(42,42,42,0.8);border-radius:15px;padding:15px;margin-bottom:15px;border:1px solid rgba(210,105,30,0.2);transition:all 0.3s;cursor:pointer}
.menu-card:hover{transform:translateY(-3px);border-color:var(--secondary);box-shadow:0 8px 20px rgba(210,105,30,0.2)}
.menu-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px}
.menu-name{font-size:16px;font-weight:600;color:var(--cream)}
.menu-icon{font-size:24px}
.menu-prices{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
.price-option{background:rgba(139,69,19,0.4);padding:5px 12px;border-radius:12px;font-size:13px}
.size-label{font-weight:600;color:var(--secondary)}
.cart-float{position:fixed;bottom:20px;right:20px;background:var(--secondary);width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px;box-shadow:0 4px 15px rgba(210,105,30,0.5);cursor:pointer;transition:all 0.3s;z-index:99}
.cart-float:hover{transform:scale(1.1)}
.cart-badge{position:absolute;top:-5px;right:-5px;background:var(--danger);width:25px;height:25px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:bold}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:1000;align-items:flex-end}
.modal.active{display:flex}
.modal-content{background:#2a2a2a;width:100%;max-width:480px;margin:0 auto;border-radius:20px 20px 0 0;padding:25px;max-height:80vh;overflow-y:auto;animation:slideUp 0.3s ease}
@keyframes slideUp{from{transform:translateY(100%)}to{transform:translateY(0)}}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.close-modal{background:none;border:none;color:var(--light);font-size:28px;cursor:pointer}
.quantity-control{display:flex;align-items:center;justify-content:center;gap:20px;margin:20px 0}
.qty-btn{width:40px;height:40px;border-radius:50%;border:2px solid var(--secondary);background:transparent;color:var(--secondary);font-size:20px;cursor:pointer;transition:all 0.3s}
.qty-btn:hover{background:var(--secondary);color:white}
.qty-display{font-size:24px;font-weight:bold;min-width:40px;text-align:center}
.notes-input{width:100%;background:rgba(42,42,42,0.8);border:1px solid rgba(210,105,30,0.3);border-radius:10px;padding:12px;color:var(--light);font-size:14px;margin:15px 0;resize:vertical;min-height:80px}
.notes-input:focus{outline:none;border-color:var(--secondary)}
.size-selector{display:flex;flex-direction:column;gap:10px;margin:20px 0}
.size-option{background:rgba(139,69,19,0.3);padding:15px;border-radius:12px;border:2px solid transparent;cursor:pointer;transition:all 0.3s;display:flex;justify-content:space-between;align-items:center}
.size-option:hover{background:rgba(139,69,19,0.5)}
.size-option.selected{background:var(--primary);border-color:var(--secondary)}
.size-name{font-weight:600;font-size:16px}
.size-price{font-weight:bold;color:var(--cream)}
.cart-item{background:rgba(42,42,42,0.6);padding:15px;border-radius:10px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center}
.cart-item-info{flex:1}
.cart-item-name{font-weight:600;margin-bottom:5px}
.cart-item-details{font-size:13px;color:var(--secondary)}
.cart-item-price{font-weight:bold;font-size:16px;color:var(--cream)}
.remove-item{background:var(--danger);border:none;color:white;width:30px;height:30px;border-radius:50%;cursor:pointer;margin-left:10px}
.total-section{background:rgba(139,69,19,0.3);padding:20px;border-radius:15px;margin:20px 0}
.total-row{display:flex;justify-content:space-between;margin:10px 0;font-size:18px;font-weight:bold}
.input-group{margin-bottom:20px}
.input-group label{display:block;margin-bottom:8px;color:var(--secondary);font-weight:600}
.input-group input{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(210,105,30,0.3);background:rgba(26,26,26,0.8);color:var(--light);font-size:16px}
.input-group input:focus{outline:none;border-color:var(--secondary)}
.login-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:20px}
.login-box{background:rgba(42,42,42,0.9);padding:40px;border-radius:20px;width:100%;max-width:400px;border:1px solid rgba(210,105,30,0.3)}
.dashboard{padding:20px}
.logout-btn{background:var(--danger);color:white;border:none;padding:10px 20px;border-radius:20px;cursor:pointer}
.order-card{background:rgba(42,42,42,0.9);padding:20px;border-radius:15px;margin-bottom:15px;border-left:4px solid var(--warning)}
.order-card.confirmed{border-left-color:var(--primary)}
.order-card.processing{border-left-color:var(--secondary)}
.order-card.done{border-left-color:var(--success)}
.order-header{display:flex;justify-content:space-between;margin-bottom:15px}
.order-table{font-size:18px;font-weight:bold;color:var(--secondary)}
.order-time{font-size:13px;opacity:0.7}
.order-items{margin:15px 0;padding:15px;background:rgba(26,26,26,0.5);border-radius:10px}
.order-item{display:flex;justify-content:space-between;margin:8px 0}
.status-buttons{display:flex;gap:10px;margin-top:15px}
.status-btn{flex:1;padding:10px;border:none;border-radius:10px;cursor:pointer;font-weight:600}
.status-btn.confirm{background:var(--primary);color:white}
.status-btn.process{background:var(--secondary);color:white}
.status-btn.done{background:var(--success);color:white}
.status-timeline{padding:40px 20px}
.timeline-item{display:flex;align-items:center;margin:30px 0}
.timeline-icon{width:50px;height:50px;border-radius:50%;background:rgba(139,69,19,0.3);border:3px solid rgba(210,105,30,0.5);display:flex;align-items:center;justify-content:center;font-size:24px}
.timeline-item.active .timeline-icon{background:var(--secondary);border-color:var(--secondary);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{box-shadow:0 0 0 0 rgba(210,105,30,0.7)}50%{box-shadow:0 0 0 15px rgba(210,105,30,0)}}
.timeline-content{margin-left:20px}
.timeline-title{font-size:18px;font-weight:bold;margin-bottom:5px}
.timeline-desc{font-size:14px;opacity:0.7}
.empty-state{text-align:center;padding:60px 20px;opacity:0.6}
.hidden{display:none!important}
</style>
</head>
<body>
<div class="container">
<div id="welcomeScreen" class="welcome-screen">
<div class="logo">‚òï</div>
<div class="brand-name">CAFE KARAYA</div>
<p class="tagline">Modern Coffee & Dining Experience</p>
<div class="input-group" style="width:100%;max-width:300px">
<label>Masukkan Nomor Meja</label>
<input type="number" id="tableNumberInput" placeholder="Contoh: 5" min="1">
</div>
<button class="btn btn-primary" onclick="startOrder()">üçΩÔ∏è Mulai Pesan</button>
<button class="btn btn-secondary" onclick="showLogin()">üîê Kasir Login</button>
</div>

<div id="menuScreen" class="hidden">
<div class="header">
<div class="header-title">‚òï Cafe Karaya</div>
<div class="table-info" id="tableDisplay">Meja -</div>
</div>
<div class="category-tabs" id="categoryTabs"></div>
<div class="menu-list" id="menuList"></div>
<div class="cart-float" onclick="showCart()">üõí<div class="cart-badge" id="cartBadge">0</div></div>
</div>

<div id="menuModal" class="modal">
<div class="modal-content">
<div class="modal-header"><h2 id="modalMenuName"></h2><button class="close-modal" onclick="closeMenuModal()">√ó</button></div>
<div class="size-selector" id="modalSizeOptions"></div>
<div class="quantity-control">
<button class="qty-btn" onclick="changeQty(-1)">-</button>
<div class="qty-display" id="qtyDisplay">1</div>
<button class="qty-btn" onclick="changeQty(1)">+</button>
</div>
<textarea class="notes-input" id="orderNotes" placeholder="Catatan pesanan (opsional)"></textarea>
<button class="btn btn-primary" onclick="addToCart()">Tambah ke Keranjang</button>
</div>
</div>

<div id="cartModal" class="modal">
<div class="modal-content">
<div class="modal-header"><h2>üõí Keranjang Pesanan</h2><button class="close-modal" onclick="closeCartModal()">√ó</button></div>
<div id="cartItems"></div>
<div class="total-section"><div class="total-row"><span>Total:</span><span id="totalPrice">Rp 0</span></div></div>
<textarea class="notes-input" id="orderNotesGlobal" placeholder="Catatan untuk seluruh pesanan"></textarea>
<button class="btn btn-primary" onclick="sendOrder()">üì§ Kirim Pesanan</button>
</div>
</div>

<div id="statusScreen" class="hidden">
<div class="header">
<div class="header-title">Status Pesanan</div>
<div class="table-info" id="statusTableDisplay">Meja -</div>
</div>
<div class="status-timeline">
<div class="timeline-item active" id="status1"><div class="timeline-icon">‚è≥</div><div class="timeline-content"><div class="timeline-title">Menunggu Konfirmasi</div><div class="timeline-desc">Pesanan sedang ditinjau</div></div></div>
<div class="timeline-item" id="status2"><div class="timeline-icon">‚úÖ</div><div class="timeline-content"><div class="timeline-title">Dikonfirmasi</div><div class="timeline-desc">Pesanan diterima kasir</div></div></div>
<div class="timeline-item" id="status3"><div class="timeline-icon">üç≥</div><div class="timeline-content"><div class="timeline-title">Sedang Diproses</div><div class="timeline-desc">Pesanan sedang dibuat</div></div></div>
<div class="timeline-item" id="status4"><div class="timeline-icon">üéâ</div><div class="timeline-content"><div class="timeline-title">Selesai & Disajikan</div><div class="timeline-desc">Selamat menikmati!</div></div></div>
</div>
<button class="btn btn-primary" style="margin:20px" onclick="backToMenu()">üîô Kembali ke Menu</button>
</div>

<div id="loginScreen" class="hidden">
<div class="login-screen">
<div class="login-box">
<h2 style="text-align:center;margin-bottom:30px;color:var(--secondary)">üîê Login Kasir</h2>
<div class="input-group"><label>Username</label><input type="text" id="username" placeholder="Masukkan username"></div>
<div class="input-group"><label>Password</label><input type="password" id="password" placeholder="Masukkan password"></div>
<button class="btn btn-primary" onclick="login()">Login</button>
<button class="btn btn-secondary" onclick="backToWelcome()">Kembali</button>
</div>
</div>
</div>

<div id="dashboardScreen" class="hidden">
<div class="header">
<div class="header-title">Dashboard Kasir</div>
<button class="logout-btn" onclick="logout()">Logout</button>
</div>
<div class="dashboard">
<h3 style="margin-bottom:20px">üìã Pesanan Masuk</h3>
<div id="ordersList"></div>
</div>
</div>
</div>

<script>
const menuData={"Signature Coffee":[{name:"Regular Coffee Milk",icon:"‚òï",prices:{Human:18000,Viking:24000,Titan:30000}},{name:"Brown Sugar Coffee Milk",icon:"‚òï",prices:{Human:18000,Viking:24000,Titan:30000}},{name:"Salted Caramel Coffee Milk",icon:"‚òï",prices:{Human:18000,Viking:24000,Titan:30000}},{name:"Irish Cream Coffee Milk",icon:"‚òï",prices:{Human:20000,Viking:28000,Titan:35000}},{name:"Caramel Coffee Milk",icon:"‚òï",prices:{Human:20000,Viking:28000,Titan:35000}}],"Based Kopusu":[{name:"Karaya Coffee Milk",icon:"‚òï",prices:{Human:25000,Viking:32000,Titan:40000}},{name:"Caffe Latte",icon:"‚òï",prices:{Human:22000,Viking:30000,Titan:37000}},{name:"Hazelnut Coffee Milk",icon:"‚òï",prices:{Human:20000,Viking:28000,Titan:35000}},{name:"Choco Coffee Milk",icon:"‚òï",prices:{Human:20000,Viking:28000,Titan:35000}}],"Based American":[{name:"Americano",icon:"‚òï",prices:{Human:18000,Viking:24000,Titan:30000}},{name:"Americano Mango Peach",icon:"‚òï",prices:{Single:25000}},{name:"Americano Lemon",icon:"‚òï",prices:{Single:25000}},{name:"Americano Lemon Markisa",icon:"‚òï",prices:{Single:25000}}],"Non-Coffee":[{name:"Sweet Matcha",icon:"üçµ",prices:{Human:19000,Viking:25000,Titan:32000}},{name:"Chocolate",icon:"üç´",prices:{Human:17000,Viking:23000,Titan:28000}},{name:"Red Velvet",icon:"üç∞",prices:{Human:17000,Viking:23000,Titan:28000}},{name:"Salted Caramel Milk",icon:"ü•õ",prices:{Human:18000,Viking:24000,Titan:30000}},{name:"Brown Sugar Milk",icon:"ü•õ",prices:{Human:15000,Viking:21000,Titan:26000}},{name:"Lemon Tea",icon:"üçã",prices:{Human:15000,Viking:21000,Titan:26000}},{name:"Thai Tea",icon:"üçµ",prices:{Human:14000,Viking:20000,Titan:25000}},{name:"Lychee Tea",icon:"üçπ",prices:{Human:13000,Viking:17000,Titan:22000}}],"Food & Snacks":[{name:"French Fries",icon:"üçü",prices:{Human:17000,Viking:22000,Titan:27000}},{name:"Noodle & Egg (Goreng)",icon:"üçú",prices:{Human:17000,Viking:22000,Titan:25000}},{name:"Mix Platter",icon:"üçΩÔ∏è",prices:{Single:29000}},{name:"Kentang Sosis Nugget",icon:"üç¥",prices:{Single:29000}},{name:"Sosis Goreng",icon:"üå≠",prices:{Single:20000}},{name:"Nugget Goreng",icon:"üçó",prices:{Single:20000}}]};
let t=null,c=[],cat="Signature Coffee",sm=null,ss=null,q=1,o=[],oid=1;
window.onload=()=>{rCat();rMenu()};
function startOrder(){const n=document.getElementById('tableNumberInput').value;if(!n||n<1){alert('Mohon masukkan nomor meja yang valid!');return}t=n;document.getElementById('tableDisplay').textContent=`Meja ${t}`;document.getElementById('statusTableDisplay').textContent=`Meja ${t}`;document.getElementById('welcomeScreen').classList.add('hidden');document.getElementById('menuScreen').classList.remove('hidden')}
function rCat(){document.getElementById('categoryTabs').innerHTML=Object.keys(menuData).map(x=>`<div class="tab ${x===cat?'active':''}" onclick="sCat('${x}')">${x}</div>`).join('')}
function sCat(x){cat=x;rCat();rMenu()}
function rMenu(){const l=document.getElementById('menuList'),i=menuData[cat];l.innerHTML=i.map((m,idx)=>`<div class="menu-card" onclick="oMM(${idx})"><div class="menu-header"><div class="menu-name">${m.name}</div><div class="menu-icon">${m.icon}</div></div><div class="menu-prices">${Object.entries(m.prices).map(([s,p])=>`<div class="price-option"><span class="size-label">${s}</span> Rp ${p.toLocaleString('id-ID')}</div>`).join('')}</div></div>`).join('')}
function oMM(i){sm=menuData[cat][i];ss=null;q=1;document.getElementById('modalMenuName').textContent=sm.name;document.getElementById('qtyDisplay').textContent=q;document.getElementById('orderNotes').value='';const so=document.getElementById('modalSizeOptions');so.innerHTML=Object.entries(sm.prices).map(([s,p])=>`<div class="size-option" onclick="selS('${s}',${p})"><div class="size-name">${s}</div><div class="size-price">Rp ${p.toLocaleString('id-ID')}</div></div>`).join('');document.getElementById('menuModal').classList.add('active')}
function selS(s,p){ss={size:s,price:p};document.querySelectorAll('.size-option').forEach(e=>e.classList.remove('selected'));event.target.closest('.size-option').classList.add('selected')}
function cMM(){document.getElementById('menuModal').classList.remove('active')}
function chQ(d){q=Math.max(1,q+d);document.getElementById('qtyDisplay').textContent=q}
function changeQty(d){chQ(d)}
function closeMenuModal(){cMM()}
function aC(){if(!ss){alert('Pilih ukuran terlebih dahulu!');return}const n=document.getElementById('orderNotes').value;c.push({name:sm.name,size:ss.size,price:ss.price,qty:q,notes:n,total:ss.price*q});uCB();cMM();alert('Ditambahkan ke keranjang!')}
function addToCart(){aC()}
function uCB(){document.getElementById('cartBadge').textContent=c.length}
function sC(){if(c.length===0){alert('Keranjang kosong!');return}rC();document.getElementById('cartModal').classList.add('active')}
function showCart(){sC()}
function rC(){const ci=document.getElementById('cartItems'),tot=c.reduce((s,i)=>s+i.total,0);ci.innerHTML=c.length>0?c.map((i,idx)=>`<div class="cart-item"><div class="cart-item-info"><div class="cart-item-name">${i.name}</div><div class="cart-item-details">${i.size} √ó ${i.qty}${i.notes?' - '+i.notes:''}</div></div><div class="cart-item-price">Rp ${i.total.toLocaleString('id-ID')}</div><button class="remove-item" onclick="rCI(${idx})">√ó</button></div>`).join(''):'<div class="empty-state">Keranjang kosong</div>';document.getElementById('totalPrice').textContent=`Rp ${tot.toLocaleString('id-ID')}`}
function rCI(i){c.splice(i,1);uCB();rC()}
function cCM(){document.getElementById('cartModal').classList.remove('active')}
function closeCartModal(){cCM()}
function sO(){if(c.length===0){alert('Keranjang kosong!');return}const gn=document.getElementById('orderNotesGlobal').value,ord={id:oid++,table:t,items:[...c],notes:gn,time:new Date().toLocaleTimeString('id-ID'),status:'waiting',total:c.reduce((s,i)=>s+i.total,0)};o.push(ord);c=[];uCB();cCM();document.getElementById('menuScreen').classList.add('hidden');document.getElementById('welcomeScreen').classList.remove('hidden');document.getElementById('tableNumberInput').value='';t=null;alert('Pesanan berhasil dikirim! Terima kasih.')}
function sendOrder(){sO()}
function uST(st){const m={'waiting':1,'confirmed':2,'processing':3,'done':4};for(let i=1;i<=4;i++){const e=document.getElementById(`status${i}`);i<=m[st]?e.classList.add('active'):e.classList.remove('active')}}
function bTM(){document.getElementById('statusScreen').classList.add('hidden');document.getElementById('menuScreen').classList.remove('hidden')}
function backToMenu(){bTM()}
function sL(){document.getElementById('welcomeScreen').classList.add('hidden');document.getElementById('loginScreen').classList.remove('hidden')}
function showLogin(){sL()}
function bTW(){document.getElementById('loginScreen').classList.add('hidden');document.getElementById('welcomeScreen').classList.remove('hidden')}
function backToWelcome(){bTW()}
function log(){const u=document.getElementById('username').value,p=document.getElementById('password').value;if(u==='kasir'&&p==='karaya123'){document.getElementById('loginScreen').classList.add('hidden');document.getElementById('dashboardScreen').classList.remove('hidden');rO()}else{alert('Username atau password salah!')}}
function login(){log()}
function logOut(){document.getElementById('dashboardScreen').classList.add('hidden');document.getElementById('welcomeScreen').classList.remove('hidden');document.getElementById('username').value='';document.getElementById('password').value=''}
function logout(){logOut()}
function rO(){const ol=document.getElementById('ordersList');ol.innerHTML=o.length>0?o.map(ord=>`<div class="order-card ${ord.status}"><div class="order-header"><div class="order-table">Meja ${ord.table}</div><div class="order-time">${ord.time}</div></div><div class="order-items">${ord.items.map(i=>`<div class="order-item"><span>${i.name} (${i.size}) √ó ${i.qty}</span><span>Rp ${i.total.toLocaleString('id-ID')}</span></div>`).join('')}<div style="margin-top:10px;font-weight:bold;border-top:1px solid rgba(210,105,30,0.3);padding-top:10px"><div class="order-item"><span>Total</span><span>Rp ${ord.total.toLocaleString('id-ID')}</span></div></div></div>${ord.notes?`<div style="margin-top:10px;font-size:13px;opacity:0.8">Catatan: ${ord.notes}</div>`:''}<div class="status-buttons">${ord.status==='waiting'?`<button class="status-btn confirm" onclick="chOS(${ord.id},'confirmed')">Konfirmasi</button>`:''}${ord.status==='confirmed'?`<button class="status-btn process" onclick="chOS(${ord.id},'processing')">Proses</button>`:''}${ord.status==='processing'?`<button class="status-btn done" onclick="chOS(${ord.id},'done')">Selesai</button>`:''}</div></div>`).join(''):'<div class="empty-state"><div class="empty-icon">üì≠</div><div>Belum ada pesanan masuk</div></div>'}
function chOS(id,st){const ord=o.find(x=>x.id===id);if(ord){ord.status=st;rO()}}
</script>
</body>
</html>